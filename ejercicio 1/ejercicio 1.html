<?php
  if (isset($_POST['altura']) && isset($_POST['peso'])) {
    $altura = $_POST['altura'];
    $peso = $_POST['peso'];
    $imc = $altura * $peso / pow($altura, 2);
    if ($imc < 18.5) {
      $clasificacion = "Bajo peso";
    } elseif ($imc < 25) {
      $clasificacion = "Peso normal";
    } elseif ($imc < 30) {
      $clasificacion = "Sobrepeso";
    } elseif ($imc < 35) {
      $clasificacion = "Obesidad grado I";
    } elseif ($imc < 40) {
      $clasificacion = "Obesidad grado II";
    } else {
      $clasificacion = "Obesidad grado III";
    }
    echo "IMC: " . number_format($imc, 2) . "<br>";
    echo "Clasificación cualitativa: " . $clasificacion;
  }
?>
<!DOCTYPE html>
<html>
<head>
  <title>Calculo del IMC</title>
</head>
<body>
  <h1>Cálculo del IMC</h1>
  <form action="calcul-imc.php" method="post">
    <label for="altura">Altura (en metros)</label>
    <input type="number" id="altura" name="altura"><br><br>
    <label for="peso">Peso (en kilogramos)</label>
    <input type="number" id="peso" name="peso"><br><br>
    <input type="submit" value="Calcular IMC">
  </form>

  <?php if (isset($_POST['altura']) && isset($_POST['peso'])) { ?>
    <h2>Resultados</h2>
    <p>IMC: <?php echo number_format($_POST['altura'] * $_POST['peso'] / pow($_POST['altura'], 2), 2); ?></p>
    <p>Clasificación cualitativa:</p>
    <?php
      $imc = $_POST['altura'] * $_POST['peso'] / pow($_POST['altura'], 2);
      if ($imc < 18.5) {
        echo "Bajo peso";
      } elseif ($imc < 25) {
        echo "Peso normal";
      } elseif ($imc < 30) {
        echo "Sobrepeso";
      } elseif ($imc < 35) {
        echo "Obesidad grado I";
      } elseif ($imc < 40) {
        echo "Obesidad grado II";
      } else {
        echo "Obesidad grado III";
      }
    ?>
  <?php } ?>
</body>
</html>
